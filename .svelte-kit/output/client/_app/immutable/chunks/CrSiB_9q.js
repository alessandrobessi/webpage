import{N as L,O as R,P as S,Q as P,R as Y,T as D,V as b,W as k,H as M,X as $,Y as T,G as g,F as O,B as q,c as p,Z as x,_ as B,$ as C,a0 as W,a1 as j,a2 as F,a3 as G,a as Q,q as X,e as Z,h as E,s as z}from"./75EMG3Uh.js";import{b as J}from"./BE8XQIoG.js";const K=["touchstart","touchmove"];function U(e){return K.includes(e)}const ee=new Set,A=new Set;function m(e){var t=this,n=t.ownerDocument,l=e.type,o=e.composedPath?.()||[],r=o[0]||e.target,f=0,c=e.__root;if(c){var u=o.indexOf(c);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var _=o.indexOf(t);if(_===-1)return;u<=_&&(f=u)}if(r=o[f]||e.target,r!==t){L(e,"currentTarget",{configurable:!0,get(){return r||n}});var w=Y,i=D;R(null),S(null);try{for(var a,s=[];r!==null;){var h=r.assignedSlot||r.parentNode||r.host||null;try{var d=r["__"+l];if(d!=null&&(!r.disabled||e.target===r))if(P(d)){var[H,...I]=d;H.apply(r,[e,...I])}else d.call(r,e)}catch(y){a?s.push(y):a=y}if(e.cancelBubble||h===t||h===null)break;r=h}if(a){for(let y of s)queueMicrotask(()=>{throw y});throw a}}finally{e.__root=t,delete e.currentTarget,R(w),S(i)}}}function ne(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function te(e,t){return V(e,t)}function se(e,t){b(),t.intro=t.intro??!1;const n=t.target,l=E,o=p;try{for(var r=k(n);r&&(r.nodeType!==8||r.data!==M);)r=$(r);if(!r)throw T;g(!0),O(r),q();const f=V(e,{...t,anchor:r});if(p===null||p.nodeType!==8||p.data!==x)throw B(),T;return g(!1),f}catch(f){if(f===T)return t.recover===!1&&C(),b(),W(n),g(!1),te(e,t);throw f}finally{g(l),O(o)}}const v=new Map;function V(e,{target:t,anchor:n,props:l={},events:o,context:r,intro:f=!0}){b();var c=new Set,u=i=>{for(var a=0;a<i.length;a++){var s=i[a];if(!c.has(s)){c.add(s);var h=U(s);t.addEventListener(s,m,{passive:h});var d=v.get(s);d===void 0?(document.addEventListener(s,m,{passive:h}),v.set(s,1)):v.set(s,d+1)}}};u(j(ee)),A.add(u);var _=void 0,w=F(()=>{var i=n??t.appendChild(G());return Q(()=>{if(r){X({});var a=Z;a.c=r}o&&(l.$$events=o),E&&J(i,null),_=e(i,l)||{},E&&(D.nodes_end=p),r&&z()}),()=>{for(var a of c){t.removeEventListener(a,m);var s=v.get(a);--s===0?(document.removeEventListener(a,m),v.delete(a)):v.set(a,s)}A.delete(u),i!==n&&i.parentNode?.removeChild(i)}});return N.set(_,w),_}let N=new WeakMap;function ie(e,t){const n=N.get(e);return n?(N.delete(e),n(t)):Promise.resolve()}export{se as h,te as m,ne as s,ie as u};
