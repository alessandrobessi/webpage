import{b as q,h as b,e as D,E as H,H as L,g as O,r as Y,s as p,i as E,j as S,a as h,p as v,U as F,c as U,k as _,l as j,u as B,q as C,S as M}from"./VnKtvPWD.js";function Z(i,t,[r,a]=[0,0]){b&&r===0&&D();var f=i,s=null,l=null,c=F,R=r>0?H:0,e=!1;const k=(n,u=!0)=>{e=!0,I(u,n)},I=(n,u)=>{if(c===(c=n))return;let A=!1;if(b&&a!==-1){if(r===0){const T=f.data;T===L?a=0:T===O?a=1/0:(a=parseInt(T.substring(1)),a!==a&&(a=c?1/0:-1))}const g=a>r;!!c===g&&(f=Y(),p(f),E(!1),A=!0,a=-1)}c?(s?S(s):u&&(s=h(()=>u(f))),l&&v(l,()=>{l=null})):(l?S(l):u&&(l=h(()=>u(f,[r+1,a]))),s&&v(s,()=>{s=null})),A&&E(!0)};q(()=>{e=!1,t(k),e||I(null,null)},R),b&&(f=U)}function N(i,t){return i===t||i?.[M]===t}function w(i={},t,r,a){return _(()=>{var f,s;return j(()=>{f=s,s=[],B(()=>{i!==r(...s)&&(t(i,...s),f&&N(r(...f),i)&&t(null,...f))})}),()=>{C(()=>{s&&N(r(...s),i)&&t(null,...s)})}}),i}export{w as b,Z as i};
