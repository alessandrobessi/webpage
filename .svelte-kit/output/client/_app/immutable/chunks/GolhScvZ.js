import{K as I,L as R,M as S,N as M,O as P,P as D,Q as b,R as Y,H as k,T as C,V as T,i as g,s as O,e as $,c as p,W as x,X as W,Y as j,Z as q,_ as B,$ as F,a0 as K,a as Q,C as X,m as Z,h as E,F as z}from"./VnKtvPWD.js";import{b as G}from"./BR9drO80.js";const J=["touchstart","touchmove"];function U(e){return J.includes(e)}const ee=new Set,A=new Set;function m(e){var t=this,n=t.ownerDocument,l=e.type,o=e.composedPath?.()||[],r=o[0]||e.target,f=0,c=e.__root;if(c){var u=o.indexOf(c);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var _=o.indexOf(t);if(_===-1)return;u<=_&&(f=u)}if(r=o[f]||e.target,r!==t){I(e,"currentTarget",{configurable:!0,get(){return r||n}});var w=P,i=D;R(null),S(null);try{for(var a,s=[];r!==null;){var h=r.assignedSlot||r.parentNode||r.host||null;try{var d=r["__"+l];if(d!=null&&(!r.disabled||e.target===r))if(M(d)){var[V,...H]=d;V.apply(r,[e,...H])}else d.call(r,e)}catch(y){a?s.push(y):a=y}if(e.cancelBubble||h===t||h===null)break;r=h}if(a){for(let y of s)queueMicrotask(()=>{throw y});throw a}}finally{e.__root=t,delete e.currentTarget,R(w),S(i)}}}function ne(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function te(e,t){return L(e,t)}function se(e,t){b(),t.intro=t.intro??!1;const n=t.target,l=E,o=p;try{for(var r=Y(n);r&&(r.nodeType!==8||r.data!==k);)r=C(r);if(!r)throw T;g(!0),O(r),$();const f=L(e,{...t,anchor:r});if(p===null||p.nodeType!==8||p.data!==x)throw W(),T;return g(!1),f}catch(f){if(f===T)return t.recover===!1&&j(),b(),q(n),g(!1),te(e,t);throw f}finally{g(l),O(o)}}const v=new Map;function L(e,{target:t,anchor:n,props:l={},events:o,context:r,intro:f=!0}){b();var c=new Set,u=i=>{for(var a=0;a<i.length;a++){var s=i[a];if(!c.has(s)){c.add(s);var h=U(s);t.addEventListener(s,m,{passive:h});var d=v.get(s);d===void 0?(document.addEventListener(s,m,{passive:h}),v.set(s,1)):v.set(s,d+1)}}};u(B(ee)),A.add(u);var _=void 0,w=F(()=>{var i=n??t.appendChild(K());return Q(()=>{if(r){X({});var a=Z;a.c=r}o&&(l.$$events=o),E&&G(i,null),_=e(i,l)||{},E&&(D.nodes_end=p),r&&z()}),()=>{for(var a of c){t.removeEventListener(a,m);var s=v.get(a);--s===0?(document.removeEventListener(a,m),v.delete(a)):v.set(a,s)}A.delete(u),i!==n&&i.parentNode?.removeChild(i)}});return N.set(_,w),_}let N=new WeakMap;function ie(e,t){const n=N.get(e);return n?(N.delete(e),n(t)):Promise.resolve()}export{se as h,te as m,ne as s,ie as u};
